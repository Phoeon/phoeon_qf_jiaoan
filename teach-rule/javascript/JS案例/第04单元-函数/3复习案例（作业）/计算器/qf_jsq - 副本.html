<!DOCTYPE html PUBLIC "-//W3C//Dli XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/Dli/xhtml1-transitional.dli">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>简易计算器</title>
<style type="text/css"  />

* { padding: 0; margin: 0; }
li { list-style: none; }
body { background: #940032; }

#counter { width: 500px; height: 420px; background:#939; margin: 50px auto 0; position: relative; }
#counter h2 { line-height: 42px; padding-left: 15px; font-size: 14px; font-family: arial; color: #ff3333; }
#counter a { font-weight: normal; text-decoration: none; color: #ff3333; }
#counter a:hover { text-decoration: underline; }
#bg { width: 280px; height: 200px; border: 3px solid #680023; background: #990033; filter: alpha(opacity=80); opacity: 0.8; position: absolute; left: 50%; top: 115px; margin-left: -141px; }
#counter_content { width: 250px; position: absolute; top: 130px; left: 130px; z-index: 1; }
#counter_content h3 { margin-bottom: 10px; }
#counter_content h3 input { border: none; width: 223px; height: 30px; line-height: 30px; padding: 0 10px; background: url(images/ico.png) no-repeat; text-align: right; color: #333; font-size: 14px; font-weight: bold; }
#counter_content div { width: 250px; }
#counter_content input { width: 60px; height: 30px; line-height: 30px; float: left; background: url(images/ico.png) no-repeat -303px 0; text-align: center; color: #fff; cursor: pointer; margin: 0 1px 4px 0; border:0; }
#counter_content .active { background: url(images/ico.png) no-repeat -243px 0; }
#counter p { width: 500px; position: absolute; bottom: 20px; left: 0; color: #ff3333; text-align: center; font-size: 12px; }
</style>
</head>
<script type="text/javascript">
	//临时存储的数字
	var tempnum = 0;
	
	//是否按下了运算符号
	var isCal = "no";
	//记录刚刚按下的运算符号
	var opt = "";
	//
	function cal(param){
		var charcode = param.charCodeAt(0);
		
		//1 ,对传进来的参数，要进行判断
		if(charcode>= 48 && charcode <= 57){
			//
			var res = document.getElementById("input1").value += param;
			if(isCal == "no"){//如果没有按下运算符号
				tempnum = parseInt(res);
			} 
		}
		if(charcode ==42 || charcode ==43 || charcode ==45  || charcode ==47){
			isCal = "yes";//
			opt = param;
			document.getElementById("input1").value = "";
		}
		if(charcode == 61) {
			switch(opt){
				case '+' : 
					tempnum += parseInt(document.getElementById("input1").value);
					document.getElementById("input1").value = tempnum;
					break;
				case '-' : 
					tempnum -= parseInt(document.getElementById("input1").value);
					document.getElementById("input1").value = tempnum;
					break;
				case '*' : 
					tempnum *= parseInt(document.getElementById("input1").value);
					document.getElementById("input1").value = tempnum;
					break;
				case '/' : 
					tempnum /= parseInt(document.getElementById("input1").value);
					document.getElementById("input1").value = tempnum;
					break;
			}
			tempnum = 0;
			isCal = "no";
			opt = "";
		}
		if(charcode == 67){
			document.getElementById("input1").value = 0;
			tempnum = 0;
			isCal = "no";
			opt="";
		}
		
	
		//如果是0-9 ---》直接在文本框里追加
		//如果是+-*/ 准备计算  将结果放入变量A  并 
		//如果是=  结算结果，把结果放入文本框
		//如果是C  清空文本框，归零
		
	}
</script>
</head>

<body>

<div id="counter">
	<h2>简易计算</h2>
	<div id="counter_content">
		<h3><input id="input1" type="text" value="0" /></h3>
		<div id="div1">
			<input type="button" value="7" onclick="cal('7')"/>
            <input type="button" value="8" onclick="cal('8')"/>
            <input type="button" value="9" onclick="cal('9')"/>
            <input type="button" value="+" onclick="cal('+')"/>
            <input type="button" value="4" onclick="cal('4')"/>
            <input type="button" value="5" onclick="cal('5')"/>
            <input type="button" value="6" onclick="cal('6')"/>
            <input type="button" value="-" onclick="cal('-')"/>
            <input type="button" value="1" onclick="cal('1')"/>
            <input type="button" value="2" onclick="cal('2')"/>
            <input type="button" value="3" onclick="cal('3')"/>
            <input type="button" value="*" onclick="cal('*')"/>
            <input type="button" value="0" onclick="cal('0')"/>
            <input type="button" value="C" onclick="cal('C')"/>
            <input type="button" value="=" onclick="cal('=')"/>
            <input type="button" value="/" onclick="cal('/')"/>

		</div>
	</div>
	
	
</div>
</body>
</html>
